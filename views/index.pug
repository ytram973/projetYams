doctype html
html
  head
    title Jeu de Yams
    style.
      .game-container {
        background: url('/assets/background.jpg');
        background-size: cover;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        text-align: center;
        font-family: Arial, sans-serif;
        color: white;
      }

      h1 {
        font-size: 3rem;
        margin-bottom: 2rem;
        color: black;
      }

      .dice {
        display: flex;
        justify-content: center;
        margin-bottom: 2rem;
      }

      .dice img {
        width: 100px;
        margin: 0 1rem;
      }

      button {
        background-color: #e74c3c;
        color: white;
        font-size: 1.5rem;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      p {
        font-size: 1.2rem;
         color: black;
      }

      a{
        color: black;
      }

  body
    div.game-container
      h1 Jeu de Yams
      .dice
        - for (let i = 1; i <= 5; i++)
          img(src=`/dice${i}.png`)
      button(type="button" id="btnLancer") Lancer les dés
      p Pâtisserie gagnée : #{pastry}
      script.
        let btnLancer = document.getElementById("btnLancer");
        let dice = document.querySelectorAll('.dice img');
        let pastry = '';

        btnLancer.addEventListener('click', () => {
          let results = [];

          for (let i = 0; i < dice.length; i++) {
            let result = Math.floor(Math.random() * 6) + 1;
            results.push(result);
            dice[i].src = `/dice${result}.png`;
          }

          if (isYams(results)) {
            pastry = 'Brioche sucrée avec chocolat';
          } else if (isCarré(results)) {
            pastry = 'Cake glacé fondant au chocolat';
          } else if (isFull(results)) {
            pastry = 'Tarte aux fruits';
          } else if (isSuite(results)) {
            pastry = 'Éclair au café';
          } else if (isTriple(results)) {
            pastry = 'Croissant aux amandes';
          } else {
            pastry = 'Aucune pâtisserie gagnée';
          }

          document.querySelector('p').textContent = `Pâtisserie gagnée : ${pastry}`;
        });

        function isYams(results) {
          const uniqueResults = [...new Set(results)];
          return uniqueResults.length === 1;
        }

        function isCarré(results) {
          const counters = countOccurrences(results);
          for (const result in counters) {
            if (counters[result] >= 4) {
              return true;
            }
          }
          return false;
        }

        function isFull(results) {
          const counters = countOccurrences(results);
          return Object.values(counters).includes(2) && Object.values(counters).includes(3);
        }

        function isSuite(results) {
          const sortedResults = results.slice().sort((a, b) => a - b);
          for (let i = 0; i < sortedResults.length - 1; i++) {
            if (sortedResults[i] !== sortedResults[i + 1] - 1) {
              return false;
            }
          }
          return true;
        }

        function isTriple(results) {
          const counters = countOccurrences(results);
          return Object.values(counters).includes(3);
        }

        function countOccurrences(arr) {
          return arr.reduce((counters, result) => {
            counters[result] = (counters[result] || 0) + 1;
            return counters;
          }, {});
        }
